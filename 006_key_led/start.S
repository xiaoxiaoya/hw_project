
.text
.global _start

_start:

	/*  diaable WTCON */
	ldr r0, =0x53000000
	ldr r1, =0
	str r1, [r0]

	/* ÉèÖÃÄÚ´æ: sp Õ» */
	/* ·Ö±æÊÇnor/nandÆô¶¯
	 * Ğ´0µ½0µØÖ·, ÔÙ¶Á³öÀ´
	 * Èç¹ûµÃµ½0, ±íÊ¾0µØÖ·ÉÏµÄÄÚÈİ±»ĞŞ¸ÄÁË, Ëü¶ÔÓ¦ram, Õâ¾ÍÊÇnandÆô¶¯
	 * ·ñÔò¾ÍÊÇnorÆô¶¯
	 */
	mov r1, #0
	ldr r0, [r1] /* è¯»0åœ°å€çš„å€¼è¯»åˆ°r0 å¯„å­˜å™¨é‡Œ */
	str r1, [r1] /* 0->[0] å°†0å†™åˆ°0åœ°å€é‡Œå» */ 
	ldr r2, [r1] /* r2=[0] å†å»è¯»0åœ°å€é‡Œçš„å€¼ */
	cmp r1, r2   /* r1==r2? åˆ¤æ–­0å€¼æœ‰æ²¡æœ‰å†™æˆåŠŸï¼Œå†™å¤±è´¥åˆ™Norå¯åŠ¨,å¦åˆ™nandå¯åŠ¨ */
	ldr sp, =0x40000000+4096 /* Norå¯åŠ¨ */
	moveq sp, #4096  /* nandå¯åŠ¨  */
	streq r0, [r1]   /* å°†åŸæ¥0åœ°å€çš„å€¼å†™å…¥ */
	

	bl main

halt:
	b halt
	
